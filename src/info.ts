export interface ComputerInfo {
    password: string;
    gpu: {
        detail: {
            name: string;
            driver_version: string;
            temperature_gpu: string;
            utilization_gpu: string;
            utilization_memory: string;
            memory_total: string;
            memory_free: string;
            memory_used: string;
        }[];
        users: string[];
    };
    hostname: string;
    net: { [key: string]: string };
    mem: {
        total: string;
        used: string;
    };
    swap: {
        total: string;
        used: string;
    };
    cpu: {
        interrupt: number;
        system: number;
        nice: number;
        temp: number;
        user: number;
        idle: number;
    };
    other: {
        uptime: string;
        new_nowtime: string;
        nowtime: string;
    };
}
 export function parseComputerInfo(jsonStr: string): ComputerInfo[] {
    const computers: ComputerInfo[] = [];
    const data = JSON.parse(jsonStr);

    for (const key in data) {
        const computer = data[key];
        const computerInfo: ComputerInfo = {
            password: computer.password,
            gpu: computer.gpu,
            hostname: computer.hostname,
            net: computer.net,
            mem: computer.mem,
            swap: computer.swap,
            cpu: computer.cpu,
            other: computer.other
        };
        computers.push(computerInfo);
    }

    return computers;
}

// 调用示例
const jsonStr = `{"swift":{"password":"123456","gpu":{"detail":[{"name":"NVIDIA GeForce RTX 2080 Ti","driver_version":"535.146.02","temperature_gpu":"37","utilization_gpu":"0 %","utilization_memory":"0 %","memory_total":"11264 MiB","memory_free":"11008 MiB","memory_used":"3 MiB"},{"name":"NVIDIA GeForce RTX 2080 Ti","driver_version":"535.146.02","temperature_gpu":"40","utilization_gpu":"0 %","utilization_memory":"0 %","memory_total":"11264 MiB","memory_free":"11008 MiB","memory_used":"3 MiB"},{"name":"NVIDIA GeForce RTX 2080 Ti","driver_version":"535.146.02","temperature_gpu":"31","utilization_gpu":"0 %","utilization_memory":"0 %","memory_total":"11264 MiB","memory_free":"11008 MiB","memory_used":"3 MiB"}],"users":["no running processes found"]},"hostname":"swift","net":{"enp129s0":"192.168.1.35","eno2":"null","lo":"127.0.0.1","eno1":"null"},"mem":{"total":"134.8 GB","used":"2.7 GB"},"swap":{"used":"0 B","total":"25.8 GB"},"cpu":{"interrupt":0,"system":4.7630606e-9,"nice":0,"temp":36,"user":0.99871135,"idle":0.0012886781},"other":{"uptime":"89 day 9 hour 21 minutes 8 sec","new_nowtime":"2024-04-23 21:54:34","nowtime":"2024-04-23 21:54:34"}},"shiyuan":{"password":"123456","gpu":{"detail":[{"name":"","driver_version":"","temperature_gpu":"","utilization_gpu":"","utilization_memory":"","memory_total":"","memory_free":"","memory_used":""}],"users":["driver failed"]},"hostname":"shiyuan","net":{"enp97s0f1":"null","lo":"127.0.0.1","enp97s0f0":"192.168.1.34"},"mem":{"used":"2.4 GB","total":"270.1 GB"},"swap":{"total":"8.6 GB","used":"15.7 MB"},"cpu":{"nice":0,"interrupt":0,"system":0,"user":0,"idle":1,"temp":33},"other":{"uptime":"39 day 23 hour 16 minutes 54 sec","nowtime":"2024-04-23 21:54:32","new_nowtime":"2024-04-23 21:54:33"}},"yinhu":{"password":"123456","gpu":{"detail":[{"name":"NVIDIA GeForce RTX 3090","driver_version":"525.105.17","temperature_gpu":"51","utilization_gpu":"0 %","utilization_memory":"0 %","memory_total":"24576 MiB","memory_free":"24259 MiB","memory_used":"0 MiB"}],"users":["no running processes found"]},"hostname":"yinhu","net":{"eno1":"192.168.1.45","lo":"127.0.0.1","eno4":"null","eno2":"null","eno3":"null"},"mem":{"total":"33.1 GB","used":"802.1 MB"},"swap":{"total":"8.6 GB","used":"114.6 MB"},"cpu":{"user":0,"system":0,"interrupt":0,"temp":34,"idle":1,"nice":0},"other":{"nowtime":"2024-04-23 21:54:40","uptime":"98 day 7 hour 55 minutes 10 sec","new_nowtime":"2024-04-23 21:54:43"}},"weiyang":{"password":"123456","gpu":{"detail":[{"name":"NVIDIA A100-SXM4-40GB","driver_version":"550.54.15","temperature_gpu":"60","utilization_gpu":"28 %","utilization_memory":"0 %","memory_total":"40960 MiB","memory_free":"40326 MiB","memory_used":"0 MiB"}],"users":["no running processes found"]},"hostname":"weiyang","net":{"ens6f0":"192.168.1.49","ens6f2":"null","ens6f1":"null","ens6f3":"null","ens3":"null","ens3d1":"null","lo":"127.0.0.1"},"mem":{"total":"270.1 GB","used":"2.0 GB"},"swap":{"total":"8.6 GB","used":"0 B"},"cpu":{"interrupt":0,"idle":1,"system":0,"user":0,"nice":0,"temp":54},"other":{"new_nowtime":"2024-04-23 21:54:32","uptime":"36 day 3 hour 10 minutes 57 sec","nowtime":"2024-04-23 13:54:26"}},"rick":{"password":"123456","gpu":{"detail":[{"name":"Quadro P5000","driver_version":"510.54","temperature_gpu":"41","utilization_gpu":"0 %","utilization_memory":"0 %","memory_total":"16384 MiB","memory_free":"16278 MiB","memory_used":"0 MiB"}],"users":["no running processes found"]},"hostname":"rick","net":{"eno1":"null","lo":"127.0.0.1","eno2":"null","enp5s0f1":"null","enp5s0f0":"192.168.1.33"},"mem":{"used":"1043.9 MB","total":"67.1 GB"},"swap":{"total":"1023.4 MB","used":"0 B"},"cpu":{"user":0,"nice":0,"interrupt":0,"system":0,"temp":34,"idle":1},"other":{"nowtime":"2024-04-23 21:54:40","uptime":"40 day 4 hour 59 minutes 40 sec","new_nowtime":"2024-04-23 21:54:41"}},"xuanwu":{"password":"123456","gpu":{"detail":[{"name":"NVIDIA A100-PCIE-40GB","driver_version":"535.154.05","temperature_gpu":"37","utilization_gpu":"0 %","utilization_memory":"0 %","memory_total":"40960 MiB","memory_free":"40339 MiB","memory_used":"0 MiB"}],"users":["no running processes found"]},"hostname":"xuanwu","net":{"eno3":"null","eno2":"null","docker0":"172.17.0.1","eno4":"null","lo":"127.0.0.1","eno1":"192.168.1.39"},"mem":{"total":"201.4 GB","used":"8.6 GB"},"swap":{"used":"89.3 MB","total":"137.4 GB"},"cpu":{"system":3.3087224e-26,"interrupt":0,"temp":49,"user":0,"idle":1,"nice":0},"other":{"uptime":"93 day 2 hour 8 minutes 45 sec","new_nowtime":"2024-04-23 21:54:38","nowtime":"2024-04-23 21:54:37"}},"chouniu":{"password":"123456","gpu":{"detail":[{"name":"NVIDIA A100-PCIE-40GB","driver_version":"535.129.03","temperature_gpu":"65","utilization_gpu":"0 %","utilization_memory":"0 %","memory_total":"40960 MiB","memory_free":"25882 MiB","memory_used":"14457 MiB"},{"name":"NVIDIA A100-PCIE-40GB","driver_version":"535.129.03","temperature_gpu":"37","utilization_gpu":"0 %","utilization_memory":"0 %","memory_total":"40960 MiB","memory_free":"40331 MiB","memory_used":"7 MiB"}],"users":["19127: /home/special/user/wangshuoxin/deep_learning_hand_written_question/PEFT"]},"hostname":"chouniu","net":{"vnet0":"fe80::fc54:ff:feab:6dd1","lo":"127.0.0.1","ens8f2":"null","ens7d1":"null","vnet1":"fe80::fc54:ff:fe3a:523f","virbr0":"192.168.122.1","virbr0-nic":"null","ens7":"192.168.1.42","ens8f1":"null","ens8f0":"null","ens8f3":"null"},"mem":{"total":"270.1 GB","used":"10.1 GB"},"swap":{"used":"6.1 GB","total":"8.6 GB"},"cpu":{"interrupt":0,"idle":1,"system":1.0097419e-30,"nice":0,"user":5.421011e-20,"temp":49},"other":{"new_nowtime":"2024-04-23 21:54:36","uptime":"93 day 10 hour 13 minutes 44 sec","nowtime":"2024-04-23 21:54:35"}},"zhuque":{"password":"123456","gpu":{"detail":[{"name":"NVIDIA A100-PCIE-40GB","driver_version":"535.154.05","temperature_gpu":"70","utilization_gpu":"65 %","utilization_memory":"32 %","memory_total":"40960 MiB","memory_free":"28476 MiB","memory_used":"11863 MiB"}],"users":["2290207: /home/special/user_new/jijun/ST-AT"]},"hostname":"zhuque","net":{"eno3":"null","docker0":"172.17.0.1","eno1":"192.168.1.38","lo":"127.0.0.1","eno2":"null","eno4":"null"},"mem":{"used":"13.8 GB","total":"201.4 GB"},"swap":{"used":"29.6 MB","total":"1022.4 MB"},"cpu":{"idle":0.7518039,"nice":0,"temp":44,"user":0.24811876,"interrupt":0,"system":0.00007735149},"other":{"uptime":"89 day 8 hour 25 minutes 58 sec","nowtime":"2024-04-23 21:54:39","new_nowtime":"2024-04-23 21:54:40"}},"gczx":{"password":"123456","gpu":{"detail":[{"name":"NVIDIA GeForce RTX 4090","driver_version":"550.54.14","temperature_gpu":"42","utilization_gpu":"0 %","utilization_memory":"0 %","memory_total":"24564 MiB","memory_free":"24207 MiB","memory_used":"0 MiB"}],"users":["no running processes found"]},"hostname":"gczx","net":{"eno1":"192.168.1.131","lo":"127.0.0.1"},"mem":{"total":"33.3 GB","used":"674.8 MB"},"swap":{"total":"8.6 GB","used":"786.4 KB"},"cpu":{"nice":0,"idle":1,"user":0,"temp":31,"interrupt":0,"system":0},"other":{"nowtime":"2024-04-23 13:54:35","new_nowtime":"2024-04-23 21:54:37","uptime":"93 day 10 hour 17 minutes 37 sec"}},"imp":{"password":"123456","gpu":{"detail":[{"name":"NVIDIA GeForce GTX 1080 Ti","driver_version":"535.154.05","temperature_gpu":"51","utilization_gpu":"0 %","utilization_memory":"0 %","memory_total":"11264 MiB","memory_free":"11173 MiB","memory_used":"91 MiB"},{"name":"NVIDIA GeForce GTX 1080 Ti","driver_version":"535.154.05","temperature_gpu":"46","utilization_gpu":"2 %","utilization_memory":"0 %","memory_total":"11264 MiB","memory_free":"11173 MiB","memory_used":"91 MiB"}],"users":["no running processes found"]},"hostname":"imp","net":{"eno1":"192.168.1.11","docker0":"172.17.0.1","eno2":"null","lo":"127.0.0.1"},"mem":{"total":"134.8 GB","used":"1.5 GB"},"swap":{"total":"8.6 GB","used":"0 B"},"cpu":{"system":0,"temp":37,"user":0,"nice":0,"interrupt":0,"idle":1},"other":{"uptime":"55 day 12 hour 8 minutes 6 sec","nowtime":"2024-04-23 21:54:30","new_nowtime":"2024-04-23 21:54:32"}},"fenghuang":{"password":"123456","gpu":{"detail":[{"name":"NVIDIA GeForce RTX 3090","driver_version":"470.199.02","temperature_gpu":"34","utilization_gpu":"0 %","utilization_memory":"0 %","memory_total":"24268 MiB","memory_free":"24267 MiB","memory_used":"1 MiB"},{"name":"NVIDIA GeForce RTX 3090","driver_version":"470.199.02","temperature_gpu":"28","utilization_gpu":"0 %","utilization_memory":"0 %","memory_total":"24268 MiB","memory_free":"24267 MiB","memory_used":"1 MiB"}],"users":["no running processes found"]},"hostname":"fenghuang","net":{"ens25d1":"null","ens25":"192.168.1.37","lo":"127.0.0.1"},"mem":{"used":"8.1 GB","total":"202.5 GB"},"swap":{"used":"194.9 MB","total":"1024.5 MB"},"cpu":{"nice":0,"interrupt":0,"user":0.0025,"idle":0.995,"temp":37,"system":0.0025},"other":{"nowtime":"2024-04-23 21:54:39","new_nowtime":"2024-04-23 21:54:39","uptime":"93 day 6 hour 22 minutes 58 sec"}},"zishu":{"password":"123456","gpu":{"detail":[{"name":"NVIDIA GeForce RTX 4090","driver_version":"525.125.06","temperature_gpu":"57","utilization_gpu":"0 %","utilization_memory":"0 %","memory_total":"24564 MiB","memory_free":"24216 MiB","memory_used":"0 MiB"}],"users":["no running processes found"]},"hostname":"zishu","net":{"lo":"127.0.0.1","eno1":"192.168.1.41"},"mem":{"used":"663.3 MB","total":"33.3 GB"},"swap":{"used":"467.5 MB","total":"8.6 GB"},"cpu":{"user":0,"interrupt":0,"nice":0,"system":0,"idle":1,"temp":35},"other":{"new_nowtime":"2024-04-23 21:54:42","nowtime":"2024-04-23 21:54:40","uptime":"39 day 0 hour 59 minutes 19 sec"}},"kunpeng":{"password":"123456","gpu":{"detail":[{"name":"NVIDIA GeForce RTX 3090","driver_version":"525.116.03","temperature_gpu":"44","utilization_gpu":"0 %","utilization_memory":"0 %","memory_total":"24576 MiB","memory_free":"24259 MiB","memory_used":"0 MiB"},{"name":"NVIDIA GeForce RTX 3090","driver_version":"525.116.03","temperature_gpu":"41","utilization_gpu":"0 %","utilization_memory":"0 %","memory_total":"24576 MiB","memory_free":"24259 MiB","memory_used":"0 MiB"},{"name":"NVIDIA GeForce RTX 3090","driver_version":"525.116.03","temperature_gpu":"41","utilization_gpu":"0 %","utilization_memory":"0 %","memory_total":"24576 MiB","memory_free":"24259 MiB","memory_used":"0 MiB"},{"name":"NVIDIA GeForce RTX 3090","driver_version":"525.116.03","temperature_gpu":"39","utilization_gpu":"0 %","utilization_memory":"0 %","memory_total":"24576 MiB","memory_free":"24259 MiB","memory_used":"0 MiB"}],"users":["no running processes found"]},"hostname":"kunpeng","net":{"lo":"127.0.0.1","ens121f1":"null","ens121f0":"192.168.1.36"},"mem":{"used":"4.3 GB","total":"270.0 GB"},"swap":{"used":"14.7 MB","total":"8.6 GB"},"cpu":{"nice":0,"interrupt":0,"idle":1,"system":0,"temp":47,"user":0},"other":{"uptime":"35 day 7 hour 29 minutes 34 sec","new_nowtime":"2024-04-23 21:54:28","nowtime":"2024-04-23 21:54:20"}},"maotu":{"password":"123456","gpu":{"detail":[{"name":"NVIDIA A100-SXM4-40GB","driver_version":"535.129.03","temperature_gpu":"55","utilization_gpu":"28 %","utilization_memory":"0 %","memory_total":"40960 MiB","memory_free":"40334 MiB","memory_used":"4 MiB"}],"users":["no running processes found"]},"hostname":"maotu","net":{"ens8f0":"null","ens6d1":"null","ens8f1":"null","ens8f2":"null","lo":"127.0.0.1","ens6":"192.168.1.46","ens8f3":"null"},"mem":{"total":"270.1 GB","used":"4.8 GB"},"swap":{"total":"8.6 GB","used":"536.6 KB"},"cpu":{"nice":0,"user":0,"temp":66,"system":0,"idle":1,"interrupt":0},"other":{"new_nowtime":"2024-04-23 21:54:30","uptime":"26 day 0 hour 4 minutes 39 sec","nowtime":"2024-04-23 21:54:24"}}}`; // 这里填入你的原始 JSON 字符串
const computers: ComputerInfo[] = parseComputerInfo(jsonStr);
console.log(computers);
